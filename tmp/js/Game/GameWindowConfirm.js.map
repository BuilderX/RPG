{"version":3,"sources":["../../../src/Game/GameWindowConfirm.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAoBA,CAAC,YAAY;AACX,cAAY,CAAC;;AAEb,MAAI,QAAQ,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;;AAElC,MAAI,WAAW,gZAYd,CAAC;;AAEF,MAAI,UAAU,2ZAyBb,CAAC;;AAEF,MAAI,CAAC,MAAM,CAAC,SAAS,EAAE,UAAU,OAAO,EAAE,GAAG,EAAE,EAAE,EAAE;;AAEjD,QAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;AAC9C,OAAG,CAAC,IAAI,GAAG,WAAW,CAAC;AACvB,OAAG,CAAC,GAAG,GAAG,UAAU,CAAC;AACrB,OAAG,CAAC,IAAI,EAAE,CAAC;;AAEX,QAAI,oBAAoB,GAAG,GAAG,CAAC,aAAa,CAAC,uBAAuB,CAAC,CAAC;AACtE,QAAI,gBAAgB,GAAG,GAAG,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;AAC9D,QAAI,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;;AAE5D,QAAI,OAAO,OAAO,IAAI,QAAQ,EAAE;AAC9B,0BAAoB,CAAC,WAAW,GAAG,OAAO,CAAC;KAC5C,MAAM,IAAI,OAAO,CAAC,OAAO,EAAE;AAC1B,0BAAoB,CAAC,WAAW,GAAG,OAAO,CAAC,OAAO,CAAC;AACnD,UAAI,OAAO,CAAC,GAAG,EAAE;AACf,wBAAgB,CAAC,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC;OAC5C;AACD,UAAI,OAAO,CAAC,EAAE,EAAE;AACd,uBAAe,CAAC,WAAW,GAAG,OAAO,CAAC,EAAE,CAAC;OAC1C;KACF,MAAM;AACL,aAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;AAChC,YAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;KACvD;;AAGD,OAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE,YAAY;AAC9B,gBAAU,CAAC,YAAY;AACrB,uBAAe,CAAC,KAAK,EAAE,CAAC;OACzB,EAAE,EAAE,CAAC,CAAC;KACR,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,YAAY;AACjC,sBAAgB,CAAC,KAAK,EAAE,CAAC;KAC1B,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,YAAY;AACjC,qBAAe,CAAC,KAAK,EAAE,CAAC;KACzB,CAAC,CAAC;;AAEH,oBAAgB,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;AACrD,SAAG,CAAC,OAAO,EAAE,CAAC;AACd,UAAI,GAAG,EAAE;AACP,WAAG,EAAE,CAAC;OACP;KACF,CAAC,CAAC;;AAEH,mBAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;AACpD,SAAG,CAAC,OAAO,EAAE,CAAC;AACd,UAAI,EAAE,EAAE;AACN,UAAE,EAAE,CAAC;OACN;KACF,CAAC,CAAC;GACJ,CAAC,CAAC;CAGJ,CAAA,EAAG,CAAC","file":"GameWindowConfirm.js","sourcesContent":["/*\n\nA-RPG Game, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n(function () {\n  \"use strict\";\n\n  let internal = Sprite.Namespace();\n\n  let confirmHTML = `\n  <div class=\"window-box\">\n    <div style=\"width: 100%; height: 100%;\">\n      <table>\n        <tr><td><span id=\"confirmWindowMessage\"></span></td></tr>\n        <tr><td>\n          <button id=\"confirmWindowYes\" class=\"brownButton\">确定</button>\n          <button id=\"confirmWindowNo\" class=\"brownButton\">取消</button>\n        </td></tr>\n      </table>\n    </div>\n  </div>\n  `;\n\n  let confirmCSS = `\n    .confirmWindow {\n      text-align: center;\n    }\n\n    .confirmWindow table {\n      width: 100%;\n      height: 100%;\n    }\n\n    .confirmWindow span {\n      font-size: 16px;\n    }\n\n    .confirmWindow button {\n      width: 100px;\n      height: 60px;\n      font-size: 16px;\n      margin: 20px;\n    }\n\n    #confirmWindowMessage {\n      color: black;\n      font-size: 20px;\n    }\n  `;\n\n  Game.assign(\"confirm\", function (message, yes, no) {\n\n    let win = Game.Window.create(\"confirmWindow\");\n    win.html = confirmHTML;\n    win.css = confirmCSS;\n    win.show();\n\n    let confirmWindowMessage = win.querySelector(\"#confirmWindowMessage\");\n    let confirmWindowYes = win.querySelector(\"#confirmWindowYes\");\n    let confirmWindowNo = win.querySelector(\"#confirmWindowNo\");\n\n    if (typeof message == \"string\") {\n      confirmWindowMessage.textContent = message;\n    } else if (message.message) {\n      confirmWindowMessage.textContent = message.message;\n      if (message.yes) {\n        confirmWindowYes.textContent = message.yes;\n      }\n      if (message.no) {\n        confirmWindowNo.textContent = message.no;\n      }\n    } else {\n      console.error(message, yes, no);\n      throw new Error(\"Game.confirm got invalid arguments\");\n    }\n\n\n    win.whenUp([\"esc\"], function () {\n      setTimeout(function () {\n        confirmWindowNo.click();\n      }, 20);\n    });\n\n    win.whenUp([\"y\", \"Y\"], function () {\n      confirmWindowYes.click();\n    });\n\n    win.whenUp([\"n\", \"N\"], function () {\n      confirmWindowNo.click();\n    });\n\n    confirmWindowYes.addEventListener(\"click\", function () {\n      win.destroy();\n      if (yes) {\n        yes();\n      }\n    });\n\n    confirmWindowNo.addEventListener(\"click\", function () {\n      win.destroy();\n      if (no) {\n        no();\n      }\n    });\n  });\n\n\n})();\n"]}