{"version":3,"sources":["src/GameWindowArchive.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAoBA,AAAC,CAAA,YAAY;AACX,cAAY,CAAC;;AAEb,MAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;;AAElE,KAAG,CAAC,IAAI,sKAGN,CAAC;;AAEH,KAAG,CAAC,GAAG,+RAeL,CAAC;;AAEH,KAAG,CAAC,QAAQ,CAAC,MAAM,EAAE,YAAY;;AAE/B,QAAI,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;;AAEpD,WAAM,KAAK,CAAC,aAAa,EAAE,EAAE;AAC3B,WAAK,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;KACpC;;AAED,QAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;AAC/B,QAAI,CAAC,OAAO,CAAC,UAAU,OAAO,EAAE;AAC9B,UAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACxC,SAAG,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;;AAEjC,UAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,WAAS,OAAO,CAAG,CAAC;;AAElD,UAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACpD,kBAAY,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;AACnC,kBAAY,CAAC,WAAW,GAAG,QAAQ,CAAC;AACpC,SAAG,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;AAC9B,kBAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;AACjD,YAAI,CAAC,OAAO,CAAC,MAAM,WAAS,OAAO,CAAG,CAAC;AACvC,YAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;OACtC,CAAC,CAAC;;AAEH,UAAI,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AAClD,gBAAU,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;AACjC,gBAAU,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC;AACvC,gBAAU,CAAC,WAAW,GAAG,MAAM,CAAC;AAChC,SAAG,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AAC5B,gBAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;AAC/C,YAAI,CAAC,OAAO,CAAC,IAAI,WAAS,OAAO,CAAG,CAAC;OACtC,CAAC,CAAC;;AAEH,UAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AAC5C,cAAQ,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC;AAClC,SAAG,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;;AAE1B,UAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACxC,UAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC;AAC9B,SAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;;AAEtB,WAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;KACxB,CAAC,CAAC;;AAEH,QAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;GAC7B,CAAC,CAAC;CAEJ,CAAA,EAAE,CAAE","file":"src/GameWindowArchive.js","sourcesContent":["/*\n\nA-RPG Game, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n(function () {\n  \"use strict\";\n\n  var win = Game.windows.archive = new Game.Window(\"archiveWindow\");\n\n  win.html(`\n    <button onclick=\"Game.windows.main.show()\" class=\"btn\">返回首页</button>\n    <div id=\"archiveTable\" style=\"overflow-y: auto; height: 360px;\"></div>\n  `);\n\n  win.css(`\n    #archiveWindow {\n      background-color: white;\n    }\n    .archiveItem {\n      border: 4px solid gray;\n      border-radius: 10px;\n      margin: 10px 10px;\n    }\n\n    .archiveItem > button {\n      width: 80px;\n      height: 50px;\n      border-radius: 5px;\n    }\n  `);\n\n  win.register(\"open\", function () {\n\n    var table = document.getElementById(\"archiveTable\");\n\n    while(table.hasChildNodes()) {\n      table.removeChild(table.lastChild);\n    }\n\n    var list = Game.archive.list();\n    list.forEach(function (element) {\n      var div = document.createElement(\"div\");\n      div.classList.add(\"archiveItem\");\n\n      var archive = Game.archive.get(`SAVE_${element}`);\n\n      var removeButton = document.createElement(\"button\");\n      removeButton.style.float = \"right\";\n      removeButton.textContent = \"REMOVE\";\n      div.appendChild(removeButton);\n      removeButton.addEventListener(\"click\", function () {\n        Game.archive.remove(`SAVE_${element}`);\n        Game.windows.archive.execute(\"open\");\n      });\n\n      var loadButton = document.createElement(\"button\");\n      loadButton.style.float = \"right\";\n      loadButton.style.marginBottom = \"40px\";\n      loadButton.textContent = \"LOAD\";\n      div.appendChild(loadButton);\n      loadButton.addEventListener(\"click\", function () {\n        Game.archive.load(`SAVE_${element}`);\n      });\n\n      var heroName = document.createElement(\"h4\");\n      heroName.innerHTML = archive.name;\n      div.appendChild(heroName);\n\n      var time = document.createElement(\"h5\");\n      time.innerHTML = archive.date;\n      div.appendChild(time);\n\n      table.appendChild(div);\n    });\n\n    Game.windows.archive.show();\n  });\n\n}());\n"]}