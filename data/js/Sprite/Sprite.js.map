{"version":3,"sources":["src/Sprite/Sprite.js"],"names":[],"mappings":"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","file":"src/Sprite/Sprite.js","sourcesContent":["/*\n\n2D Game Sprite Library, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n/**\n * @fileoverview Define the Sprite in window, declare the Sprite.Base\n * @author mail@qhduan.com (QH Duan)\n */\n\n(function () {\n  \"use strict\";\n\n  class SpriteCore {\n    register (name, object) {\n      Object.defineProperty(this, name, {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n        value: object\n      });\n\n      return this;\n    }\n  };\n\n  let Sprite = window.Sprite = new SpriteCore();\n\n  /**\n   * Function Sprite.Namespace, return an unique Private-Properties function\n   * for javascript private properties need, for es6\n   */\n  Sprite.register(\"Namespace\", function () {\n    /**\n     * Using closure variable store private properties\n     * and different file have different \"privateProperties\"\n     */\n    let privateProperties = new WeakMap();\n    return function (object) {\n      if (privateProperties.has(object) == false) {\n        privateProperties.set(object, {});\n      }\n      return privateProperties.get(object);\n    };\n  });\n\n  /**\n   * @param {number} N The min number\n   * @param {number} M The max number\n   * @return {number} A random integer N <= return < M, aka. [N, M)\n   */\n  Sprite.register(\"rand\", function (N, M) {\n    let r = M - N;\n    r *= Math.random();\n    return N + Math.floor(r);\n  });\n\n  /**\n   * @param {Object} object The object we require copy\n   * @return {Object} A deep copy of object\n   */\n  Sprite.register(\"copy\", function (object) {\n    return JSON.parse(JSON.stringify(object));\n  });\n\n  Sprite.register(\"each\", function (obj, functional) {\n    if (obj.forEach) {\n      obj.forEach(functional);\n    } else {\n      for (let key in obj) {\n        functional(obj[key], key, obj);\n      }\n    }\n  });\n\n  Sprite.register(\"uuid\", function () {\n    // generate a UUID\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/x|y/g, function (c) {\n      let r = Math.floor(Math.random() * 16);\n      if (c == \"x\") {\n        return r.toString(16);\n      } else {\n        return (r & 0x03 | 0x08).toString(16);\n      }\n    });\n  });\n\n  Sprite.register(\"btoa\", function (str) {\n    // convert str to base64\n    return window.btoa(unescape(encodeURIComponent(str)));\n  });\n\n  Sprite.register(\"atob\", function (str) {\n    // convert base64 str to original\n    return decodeURIComponent(escape(window.atob(str)));\n  });\n\n\n})();\n"]}