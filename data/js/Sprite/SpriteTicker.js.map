{"version":3,"sources":["src/Sprite/SpriteTicker.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,CAAC,UAAU,MAAM,EAAE;AACjB,cAAY,CAAC;;MAEP,MAAM;cAAN,MAAM;;AACE,aADR,MAAM,GACK;4BADX,MAAM;;AAER,iCAFE,MAAM,6CAEA;;AAER,UAAI,CAAC,IAAI,EAAE,CAAC;KACb;;iBALG,MAAM;;aAOL,gBAAG;;;AACN,YAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAClB,cAAM,CAAC,qBAAqB,CAAC,YAAM;AACjC,gBAAK,IAAI,EAAE,CAAC;SACb,CAAC,CAAC;OACJ;;;aAEK,eAAC,KAAK,EAAE,QAAQ,EAAE;;;AACtB,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,YAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,YAAM;AAC7B,eAAK,EAAE,CAAC;AACR,cAAI,KAAK,IAAI,KAAK,EAAE;AAClB,mBAAK,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AACrB,gBAAI,OAAO,QAAQ,IAAI,UAAU,EAAE;AACjC,sBAAQ,EAAE,CAAC;aACZ;WACF;SACF,CAAC,CAAC;OACJ;;;aAEM,gBAAC,KAAK,EAAE,QAAQ,EAAE;;;AACvB,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,YAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,YAAM;AAC7B,eAAK,EAAE,CAAC;AACR,cAAI,KAAK,IAAI,KAAK,EAAE;AAClB,gBAAI,OAAO,QAAQ,IAAI,UAAU,EAAE;AACjC,sBAAQ,CAAC,IAAI,CAAC,CAAC;aAChB;AACD,mBAAK,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;WACtB,MAAM;AACL,gBAAI,OAAO,QAAQ,IAAI,UAAU,EAAE;AACjC,sBAAQ,CAAC,KAAK,CAAC,CAAC;aACjB;WACF;SACF,CAAC,CAAC;OACJ;;;WA1CG,MAAM;KAAS,MAAM,CAAC,KAAK;;AA4ChC,GAAC;;AAEF,QAAM,CAAC,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;CAE9B,CAAA,CAAE,MAAM,CAAC,CAAC","file":"src/Sprite/SpriteTicker.js","sourcesContent":["/*\n\n2D Game Sprite Library, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n/// @file SpriteTicker.js\n/// @namespace Sprite\n/// class Sprite.Ticker\n\n(function (Sprite) {\n  \"use strict\";\n\n  class Ticker extends Sprite.Event {\n    constructor () {\n      super();\n\n      this.tick();\n    }\n\n    tick () {\n      this.emit(\"tick\");\n      window.requestAnimationFrame(() => {\n        this.tick();\n      });\n    }\n\n    after (times, callback) {\n      var count = 0;\n      var id = this.on(\"tick\", () => {\n        count++;\n        if (count >= times) {\n          this.off(\"tick\", id);\n          if (typeof callback == \"function\") {\n            callback();\n          }\n        }\n      });\n    }\n\n    whiles (times, callback) {\n      var count = 0;\n      var id = this.on(\"tick\", () => {\n        count++;\n        if (count >= times) {\n          if (typeof callback == \"function\") {\n            callback(true);\n          }\n          this.off(\"tick\", id);\n        } else {\n          if (typeof callback == \"function\") {\n            callback(false);\n          }\n        }\n      });\n    }\n\n  };\n\n  Sprite.Ticker = new Ticker();\n\n})(Sprite);\n"]}