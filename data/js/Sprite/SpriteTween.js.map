{"version":3,"sources":["src/Sprite/SpriteTween.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,CAAC,YAAY;AACZ,cAAY,CAAC;;AAEZ,MAAI,QAAQ,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;;MAE5B,KAAK;AACG,aADR,KAAK,CACI,MAAM,EAAE;4BADjB,KAAK;;AAEP,cAAQ,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC;AAC/B,cAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;KAChC;;iBAJG,KAAK;;aAMN,YAAC,UAAU,EAAE,IAAI,EAAE;;;AAEpB,YAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AACjC,YAAI,CAAC,GAAG,IAAI,GAAG,MAAM,CAAC;AACtB,YAAI,IAAI,GAAG,EAAE,CAAC;;AAEd,aAAK,IAAI,GAAG,IAAI,UAAU,EAAE;AAC1B,cAAI,OAAO,UAAU,CAAC,GAAG,CAAC,IAAI,QAAQ,EAAE;AACtC,gBAAI,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACzD,gBAAI,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC;WACrB;SACF;;AAED,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,YAAI,KAAK,GAAG,WAAW,CAAC,YAAM;AAC5B,eAAK,EAAE,CAAC;AACR,cAAI,KAAK,IAAI,MAAM,EAAE;AACnB,iBAAK,IAAI,GAAG,IAAI,UAAU,EAAE;AAC1B,sBAAQ,OAAM,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;aAC9C;AACD,yBAAa,CAAC,KAAK,CAAC,CAAC;AACrB,gBAAI,QAAQ,OAAM,CAAC,QAAQ,EAAE;AAC3B,sBAAQ,OAAM,CAAC,QAAQ,EAAE,CAAC;aAC3B;WACF,MAAM;AACL,iBAAK,IAAI,GAAG,IAAI,IAAI,EAAE;AACpB,sBAAQ,OAAM,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;aACzC;WACF;SACF,EAAE,CAAC,CAAC,CAAC;;AAEN,eAAO,IAAI,CAAC;OACb;;;aAEI,cAAC,QAAQ,EAAE;AACd,YAAI,OAAO,QAAQ,IAAI,UAAU,EAAE;AACjC,kBAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;SACpC;AACD,eAAO,IAAI,CAAC;OACb;;;aAEI,cAAC,IAAI,EAAE;AACV,eAAO,IAAI,CAAC;OACb;;;WAjDG,KAAK;;;AAkDV,GAAC;;AAEF,QAAM,CAAC,QAAQ,CAAC,OAAO;cAAQ,WAAW;;AAE5B,aAFiB,WAAW,GAEzB;4BAFc,WAAW;;AAGtC,iCAH2B,WAAW,6CAG9B;KACT;;iBAJ4B,WAAW;;aAM7B,aAAC,MAAM,EAAE;AAClB,eAAO,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC;OAC1B;;;WAR4B,WAAW;KAAS,MAAM,CAAC,KAAK,EAS7D,CAAC;CAEJ,CAAA,EAAG,CAAC","file":"src/Sprite/SpriteTween.js","sourcesContent":["/*\n\n2D Game Sprite Library, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n/**\n * @fileoverview Sprite.Tween\n * @author mail@qhduan.com (QH Duan)\n */\n\n(function () {\n \"use strict\";\n\n  let internal = Sprite.Namespace();\n\n  class Tween {\n    constructor (object) {\n      internal(this).object = object;\n      internal(this).callback = null;\n    }\n\n    to (attributes, time) {\n\n      let splice = Math.min(100, time);\n      let t = time / splice;\n      let step = {};\n\n      for (let key in attributes) {\n        if (typeof attributes[key] == \"number\") {\n          step[key] = attributes[key] - internal(this).object[key];\n          step[key] /= splice;\n        }\n      }\n\n      let count = 0;\n      let inter = setInterval(() => {\n        count++;\n        if (count >= splice) {\n          for (let key in attributes) {\n            internal(this).object[key] = attributes[key];\n          }\n          clearInterval(inter);\n          if (internal(this).callback) {\n            internal(this).callback();\n          }\n        } else {\n          for (let key in step) {\n            internal(this).object[key] += step[key];\n          }\n        }\n      }, t);\n\n      return this;\n    }\n\n    call (callback) {\n      if (typeof callback == \"function\") {\n        internal(this).callback = callback;\n      }\n      return this;\n    }\n\n    wait (time) {\n      return this;\n    }\n  };\n\n  Sprite.register(\"Tween\", class SpriteTween extends Sprite.Event {\n\n    constructor () {\n      super();\n    }\n\n    static get (object) {\n      return new Tween(object);\n    }\n  });\n\n})();\n"]}