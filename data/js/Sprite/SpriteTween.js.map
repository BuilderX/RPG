{"version":3,"sources":["src/Sprite/SpriteTween.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,CAAC,YAAY;AACZ,cAAY,CAAC;;AAEZ,MAAI,QAAQ,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;;AAElC,QAAM,CAAC,MAAM,CAAC,OAAO;cAAQ,WAAW;;iBAAX,WAAW;;aAE3B,aAAC,MAAM,EAAE;AAClB,eAAO,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;OACjC;;;AAEW,aANe,WAAW,CAMzB,MAAM,EAAE;4BANM,WAAW;;AAOpC,iCAPyB,WAAW,6CAO5B;AACR,UAAI,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC9B,cAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,cAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;KAC1B;;iBAX0B,WAAW;;aAanC,YAAC,UAAU,EAAE,IAAI,EAAE;AACpB,YAAI,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;;AAE9B,YAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AACjC,YAAI,CAAC,GAAG,IAAI,GAAG,MAAM,CAAC;AACtB,YAAI,IAAI,GAAG,EAAE,CAAC;;AAEd,aAAK,IAAI,GAAG,IAAI,UAAU,EAAE;AAC1B,cAAI,OAAO,UAAU,CAAC,GAAG,CAAC,IAAI,QAAQ,EAAE;AACtC,gBAAI,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACnD,gBAAI,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC;WACrB;SACF;;AAED,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,YAAI,KAAK,GAAG,WAAW,CAAC,YAAM;AAC5B,eAAK,EAAE,CAAC;AACR,cAAI,KAAK,IAAI,MAAM,EAAE;AACnB,iBAAK,IAAI,GAAG,IAAI,UAAU,EAAE;AAC1B,sBAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;aACxC;AACD,yBAAa,CAAC,KAAK,CAAC,CAAC;AACrB,gBAAI,QAAQ,CAAC,QAAQ,EAAE;AACrB,sBAAQ,CAAC,QAAQ,EAAE,CAAC;aACrB;WACF,MAAM;AACL,iBAAK,IAAI,GAAG,IAAI,IAAI,EAAE;AACpB,sBAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;aACnC;WACF;SACF,EAAE,CAAC,CAAC,CAAC;;AAEN,eAAO,IAAI,CAAC;OACb;;;aAEI,cAAC,QAAQ,EAAE;AACd,YAAI,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC9B,YAAI,OAAO,QAAQ,IAAI,UAAU,EAAE;AACjC,kBAAQ,CAAC,QAAQ,GAAG,QAAQ,CAAC;SAC9B;AACD,eAAO,IAAI,CAAC;OACb;;;aAEI,cAAC,IAAI,EAAE;AACV,eAAO,IAAI,CAAC;OACb;;;WA1D0B,WAAW;KAAS,MAAM,CAAC,KAAK,EA2D3D,CAAC;CAEJ,CAAA,EAAG,CAAC","file":"src/Sprite/SpriteTween.js","sourcesContent":["/*\n\n2D Game Sprite Library, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n/**\n * @fileoverview Sprite.Tween\n * @author mail@qhduan.com (QH Duan)\n */\n\n(function () {\n \"use strict\";\n\n  let internal = Sprite.Namespace();\n\n  Sprite.assign(\"Tween\", class SpriteTween extends Sprite.Event {\n\n    static get (object) {\n      return new Sprite.Tween(object);\n    }\n\n    constructor (object) {\n      super();\n      let privates = internal(this);\n      privates.object = object;\n      privates.callback = null;\n    }\n\n    to (attributes, time) {\n      let privates = internal(this);\n\n      let splice = Math.min(100, time);\n      let t = time / splice;\n      let step = {};\n\n      for (let key in attributes) {\n        if (typeof attributes[key] == \"number\") {\n          step[key] = attributes[key] - privates.object[key];\n          step[key] /= splice;\n        }\n      }\n\n      let count = 0;\n      let inter = setInterval(() => {\n        count++;\n        if (count >= splice) {\n          for (let key in attributes) {\n            privates.object[key] = attributes[key];\n          }\n          clearInterval(inter);\n          if (privates.callback) {\n            privates.callback();\n          }\n        } else {\n          for (let key in step) {\n            privates.object[key] += step[key];\n          }\n        }\n      }, t);\n\n      return this;\n    }\n\n    call (callback) {\n      let privates = internal(this);\n      if (typeof callback == \"function\") {\n        privates.callback = callback;\n      }\n      return this;\n    }\n\n    wait (time) {\n      return this;\n    }\n  });\n\n})();\n"]}