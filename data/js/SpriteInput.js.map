{"version":3,"sources":["src/SpriteInput.js"],"names":[],"mappings":"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","file":"src/SpriteInput.js","sourcesContent":["/*\n\n2D Game Sprite Library, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n/// @file SpriteInput.js\n/// @namespace Sprite\n/// class Sprite.Input\n\n(function () {\n\n\n  var keyTable = {\n    \"left\": 37,\n    \"up\": 38,\n    \"right\": 39,\n    \"down\": 40,\n    \"shift\": 16,\n    \"esc\": 27,\n    \"enter\": 13,\n    \"space\": 32,\n    \"a\": 97,\n    \"b\": 98,\n    \"c\": 99,\n    \"d\": 100,\n    \"e\": 101,\n    \"f\": 102,\n    \"g\": 103,\n    \"h\": 104,\n    \"i\": 105,\n    \"j\": 106,\n    \"k\": 107,\n    \"l\": 108,\n    \"m\": 109,\n    \"n\": 110,\n    \"o\": 111,\n    \"p\": 112,\n    \"q\": 113,\n    \"r\": 114,\n    \"s\": 115,\n    \"t\": 116,\n    \"u\": 117,\n    \"v\": 118,\n    \"w\": 119,\n    \"x\": 120,\n    \"y\": 121,\n    \"z\": 122,\n    \"A\": 65,\n    \"B\": 66,\n    \"C\": 67,\n    \"D\": 68,\n    \"E\": 69,\n    \"F\": 70,\n    \"G\": 71,\n    \"H\": 72,\n    \"I\": 73,\n    \"J\": 74,\n    \"K\": 75,\n    \"L\": 76,\n    \"M\": 77,\n    \"N\": 78,\n    \"O\": 79,\n    \"P\": 80,\n    \"Q\": 81,\n    \"R\": 82,\n    \"S\": 83,\n    \"T\": 84,\n    \"U\": 85,\n    \"V\": 86,\n    \"W\": 87,\n    \"X\": 88,\n    \"Y\": 89,\n    \"Z\": 90,\n    \"0\": 48,\n    \"1\": 49,\n    \"2\": 50,\n    \"3\": 51,\n    \"4\": 52,\n    \"5\": 53,\n    \"6\": 54,\n    \"7\": 55,\n    \"8\": 56,\n    \"9\": 57\n  };\n\n  var pressed = {};\n\n  document.addEventListener(\"keydown\", function (event) {\n    event = event || window.event;\n    var keyCode = event.keyCode;\n\n    pressed[keyCode] = true;\n  });\n\n  document.addEventListener(\"keyup\", function (event) {\n    event = event || window.event;\n    var keyCode = event.keyCode;\n\n    if (pressed[keyCode])\n      delete pressed[keyCode];\n  });\n\n  Sprite.Input = class Input {\n    static isPressed (keyStr) {\n      if (pressed.hasOwnProperty(keyStr))\n        return pressed[keyStr];\n      return pressed[keyTable[keyStr]];\n    }\n\n    static whenPress (keys, callback) {\n      document.addEventListener(\"keypress\", function (event) {\n        event = event || window.event;\n        var keyCode = event.keyCode;\n        for (var i = 0; i < keys.length; i++) {\n          var code = keyTable[keys[i]];\n          if (code && code == keyCode) {\n            callback(keys[i]);\n            return;\n          }\n        }\n      });\n    }\n\n    static whenDown (keys, callback) {\n      document.addEventListener(\"keydown\", function (event) {\n        event = event || window.event;\n        var keyCode = event.keyCode;\n        for (var i = 0; i < keys.length; i++) {\n          var code = keyTable[keys[i]];\n          if (code && code == keyCode) {\n            callback(keys[i]);\n            return;\n          }\n        }\n      });\n    }\n\n    static whenUp (keys, callback) {\n      document.addEventListener(\"keyup\", function (event) {\n        event = event || window.event;\n        var keyCode = event.keyCode;\n        for (var i = 0; i < keys.length; i++) {\n          var code = keyTable[keys[i]];\n          if (code && code == keyCode) {\n            callback(keys[i]);\n            return;\n          }\n        }\n      });\n    }\n  };\n\n})();\n"]}