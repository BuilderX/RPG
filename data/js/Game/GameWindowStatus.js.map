{"version":3,"sources":["src/Game/GameWindowStatus.js"],"names":[],"mappings":"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","file":"src/Game/GameWindowStatus.js","sourcesContent":["/*\n\nA-RPG Game, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n(function () {\n  \"use strict\";\n\n  var win = Game.windows.status = new Game.Window(\"statusWindow\");\n\n  win.html(`\n    <div class=\"window-box\">\n      <div id=\"statusWindowItemBar\">\n        <button id=\"statusWindowClose\">关闭</button>\n        <button id=\"statusWindowInventory\">物品</button>\n      </div>\n      <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n        <tr>\n          <td>\n            <label id=\"heroName\"></label>\n            <label id=\"heroHP\"></label>\n            <label id=\"heroSP\"></label>\n            <label id=\"heroLevel\"></label>\n            <label id=\"heroEXP\"></label>\n            <label id=\"heroSTR\"></label>\n            <label id=\"heroDEX\"></label>\n            <label id=\"heroCON\"></label>\n            <label id=\"heroINT\"></label>\n            <label id=\"heroCHA\"></label>\n            <label id=\"heroATK\"></label>\n            <label id=\"heroDEF\"></label>\n            <label id=\"heroMATK\"></label>\n            <label id=\"heroMDEF\"></label>\n          </td>\n          <td>\n            <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n              <tr>\n                <td>头部</td>\n                <td id=\"equipment-head\"></td>\n              </tr>\n              <tr>\n                <td>身体</td>\n                <td id=\"equipment-body\"></td>\n              </tr>\n              <tr>\n                <td>足部</td>\n                <td id=\"equipment-feet\"></td>\n              </tr>\n              <tr>\n                <td>武器</td>\n                <td id=\"equipment-weapon\"></td>\n              </tr>\n              <tr>\n                <td>项链</td>\n                <td id=\"equipment-neck\"></td>\n              </tr>\n              <tr>\n                <td>戒指</td>\n                <td id=\"equipment-ring\"></td>\n              </tr>\n            </table>\n          </td>\n        </tr>\n      </table>\n    </div>\n  `);\n\n  win.css(`\n    #statusWindow label {\n      display: block;\n    }\n\n    #statusWindowItemBar button {\n      width: 60px;\n      height: 40px;\n      font-size: 16px;\n      margin-left: 5px;\n      margin-right: 5px;\n      margin-top: 0px;\n      margin-bottom: 5px;\n    }\n\n    #statusWindowClose {\n      float: right;\n    }\n\n    #statusWindowInventory {\n      float: right;\n    }\n\n    #statusWindow table {\n      width: 100%;\n      height: 360px;\n    }\n  `);\n\n  var statusWindowClose = document.querySelector(\"button#statusWindowClose\");\n  var statusWindowInventory = document.querySelector(\"button#statusWindowInventory\");\n\n  statusWindowClose.addEventListener(\"click\", function (event) {\n    Game.windows.status.hide();\n  });\n\n  statusWindowInventory.addEventListener(\"click\", function (event) {\n    Game.windows.status.hide();\n    Game.windows.inventory.execute(\"open\");\n  });\n\n  Sprite.Input.whenUp([\"esc\"], function (key) {\n    if (Game.windows.status.showing()) {\n      statusWindowClose.click();\n    }\n  });\n\n  win.register(\"update\", function () {\n    document.getElementById(\"heroName\").textContent = `名字：${Game.hero.data.name}`;\n    document.getElementById(\"heroHP\").textContent = `生命力：${Game.hero.data.hp}/${Game.hero.data.$hp}`;\n    document.getElementById(\"heroSP\").textContent = `精神力：${Game.hero.data.sp}/${Game.hero.data.$sp}`;\n    document.getElementById(\"heroLevel\").textContent = `等级：${Game.hero.data.level}`;\n    document.getElementById(\"heroEXP\").textContent = `经验：${Game.hero.data.exp}`;\n    document.getElementById(\"heroSTR\").textContent = `力量：${Game.hero.data.str}`;\n    document.getElementById(\"heroDEX\").textContent = `敏捷：${Game.hero.data.dex}`;\n    document.getElementById(\"heroCON\").textContent = `耐力：${Game.hero.data.con}`;\n    document.getElementById(\"heroINT\").textContent = `智力：${Game.hero.data.int}`;\n    document.getElementById(\"heroCHA\").textContent = `魅力：${Game.hero.data.cha}`;\n    document.getElementById(\"heroATK\").textContent = `攻击：${Game.hero.data.atk}`;\n    document.getElementById(\"heroDEF\").textContent = `防御：${Game.hero.data.def}`;\n    document.getElementById(\"heroMATK\").textContent = `魔法攻击：${Game.hero.data.matk}`;\n    document.getElementById(\"heroMDEF\").textContent = `魔法防御：${Game.hero.data.mdef}`;\n\n    Sprite.each(Game.hero.data.equipment, function (element, key) {\n      if (!element) return;\n      var dom = document.getElementById(`equipment-${key}`);\n      while (dom.hasChildNodes())\n        dom.removeChild(dom.lastChild);\n      dom.appendChild(Game.items[element].icon);\n      var text = document.createElement(\"span\");\n      text.textContent = Game.items[element].data.name;\n      dom.appendChild(text);\n    });\n  });\n\n  win.register(\"open\", function () {\n    Game.windows.status.execute(\"update\");\n    Game.windows.status.show();\n  });\n\n}());\n"]}