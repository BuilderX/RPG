{"version":3,"sources":["src/Game/GameWindowStatus.js"],"names":[],"mappings":"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","file":"src/Game/GameWindowStatus.js","sourcesContent":["/*\n\nA-RPG Game, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n(function () {\n  \"use strict\";\n\n  let win = Game.Window.create(\"status\");\n\n  win.html = `\n    <div class=\"window-box\">\n      <div id=\"statusWindowItemBar\">\n        <button id=\"statusWindowClose\" class=\"brownButton\">关闭</button>\n        <button id=\"statusWindowInventory\" class=\"brownButton\">物品</button>\n      </div>\n      <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n        <tr>\n          <td style=\"width: 50%;\">\n            <label id=\"heroName\"></label>\n            <label id=\"heroHP\"></label>\n            <label id=\"heroSP\"></label>\n            <label id=\"heroLevel\"></label>\n            <label id=\"heroEXP\"></label>\n            <label id=\"heroSTR\"></label>\n            <label id=\"heroDEX\"></label>\n            <label id=\"heroCON\"></label>\n            <label id=\"heroINT\"></label>\n            <label id=\"heroCHA\"></label>\n            <label id=\"heroATK\"></label>\n            <label id=\"heroDEF\"></label>\n            <label id=\"heroMATK\"></label>\n            <label id=\"heroMDEF\"></label>\n          </td>\n          <td style=\"width: 50%;\">\n            <table id=\"statusWindowEquipmentTable\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n              <tbody>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">头部</td>\n                  <td id=\"equipment-head\"></td>\n                  <td style=\"width: 60px;\"><button id=\"equipmentButton-head\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">身体</td>\n                  <td id=\"equipment-body\"></td>\n                  <td><button id=\"equipmentButton-body\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">足部</td>\n                  <td id=\"equipment-feet\"></td>\n                  <td><button id=\"equipmentButton-feet\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">武器</td>\n                  <td id=\"equipment-weapon\"></td>\n                  <td><button id=\"equipmentButton-weapon\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">项链</td>\n                  <td id=\"equipment-neck\"></td>\n                  <td><button id=\"equipmentButton-neck\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">戒指</td>\n                  <td id=\"equipment-ring\"></td>\n                  <td><button id=\"equipmentButton-ring\" class=\"brownButton\">卸下</button></td>\n                </tr>\n              </tbody>\n            </table>\n          </td>\n        </tr>\n      </table>\n    </div>\n  `;\n\n  win.css = `\n    #statusWindowEquipmentTable button {\n      width: 60px;\n      height: 40px;\n    }\n\n    .statusWindowEquipmentText {\n      width: 60px;\n      font-size: 20px;\n      text-align: center;\n    }\n\n    #statusWindow label {\n      display: block;\n    }\n\n    #statusWindowItemBar button {\n      width: 60px;\n      height: 40px;\n      font-size: 16px;\n      margin-left: 5px;\n      margin-right: 5px;\n      margin-top: 0px;\n      margin-bottom: 5px;\n    }\n\n    #statusWindowClose {\n      float: right;\n    }\n\n    #statusWindowInventory {\n      float: right;\n    }\n\n    #statusWindow table {\n      width: 100%;\n      height: 320px;\n    }\n  `;\n\n  var statusWindowEquipment = {\n    head: document.querySelector(\"#equipment-head\"),\n    body: document.querySelector(\"#equipment-body\"),\n    feet: document.querySelector(\"#equipment-feet\"),\n    weapon: document.querySelector(\"#equipment-weapon\"),\n    neck: document.querySelector(\"#equipment-neck\"),\n    ring: document.querySelector(\"#equipment-ring\")\n  };\n\n  var statusWindowEquipmentButton = {\n    head: document.querySelector(\"#equipmentButton-head\"),\n    body: document.querySelector(\"#equipmentButton-body\"),\n    feet: document.querySelector(\"#equipmentButton-feet\"),\n    weapon: document.querySelector(\"#equipmentButton-weapon\"),\n    neck: document.querySelector(\"#equipmentButton-neck\"),\n    ring: document.querySelector(\"#equipmentButton-ring\")\n  };\n\n  Sprite.each(statusWindowEquipmentButton, function (button, key) {\n    button.addEventListener(\"click\", function () {\n      if (Game.hero.data.equipment[key]) {\n        Game.hero.data.equipment[key] = null;\n        Game.windows.status.execute(\"update\");\n      }\n    });\n  });\n\n  var heroName = document.getElementById(\"heroName\");\n  var heroHP = document.getElementById(\"heroHP\")\n  var heroSP = document.getElementById(\"heroSP\");\n  var heroLevel = document.getElementById(\"heroLevel\");\n  var heroEXP = document.getElementById(\"heroEXP\");\n  var heroSTR = document.getElementById(\"heroSTR\");\n  var heroDEX = document.getElementById(\"heroDEX\");\n  var heroCON = document.getElementById(\"heroCON\");\n  var heroINT = document.getElementById(\"heroINT\");\n  var heroCHA = document.getElementById(\"heroCHA\");\n  var heroATK = document.getElementById(\"heroATK\");\n  var heroDEF = document.getElementById(\"heroDEF\");\n  var heroMATK = document.getElementById(\"heroMATK\");\n  var heroMDEF = document.getElementById(\"heroMDEF\");\n\n  var statusWindowClose = document.querySelector(\"button#statusWindowClose\");\n  var statusWindowInventory = document.querySelector(\"button#statusWindowInventory\");\n\n  statusWindowClose.addEventListener(\"click\", function (event) {\n    Game.windows.status.hide();\n  });\n\n  statusWindowInventory.addEventListener(\"click\", function (event) {\n    Game.windows.status.hide();\n    Game.windows.inventory.execute(\"open\");\n  });\n\n  Sprite.Input.whenUp([\"esc\"], function (key) {\n    if (Game.windows.status.showing) {\n      statusWindowClose.click();\n    }\n  });\n\n  win.register(\"update\", function () {\n\n    heroName.textContent = `名字：${Game.hero.data.name}`;\n    heroHP.textContent = `生命力：${Game.hero.data.hp}/${Game.hero.data.$hp}`;\n    heroSP.textContent = `精神力：${Game.hero.data.sp}/${Game.hero.data.$sp}`;\n    heroLevel.textContent = `等级：${Game.hero.data.level}`;\n    heroEXP.textContent = `经验：${Game.hero.data.exp}`;\n    heroSTR.textContent = `力量：${Game.hero.data.str}`;\n    heroDEX.textContent = `敏捷：${Game.hero.data.dex}`;\n    heroCON.textContent = `耐力：${Game.hero.data.con}`;\n    heroINT.textContent = `智力：${Game.hero.data.int}`;\n    heroCHA.textContent = `魅力：${Game.hero.data.cha}`;\n    heroATK.textContent = `攻击：${Game.hero.data.atk}`;\n    heroDEF.textContent = `防御：${Game.hero.data.def}`;\n    heroMATK.textContent = `魔法攻击：${Game.hero.data.matk}`;\n    heroMDEF.textContent = `魔法防御：${Game.hero.data.mdef}`;\n\n    Sprite.each(Game.hero.data.equipment, function (element, key) {\n      var dom = statusWindowEquipment[key];\n      while (dom.hasChildNodes())\n        dom.removeChild(dom.lastChild);\n\n      var button = statusWindowEquipmentButton[key];\n\n      if (element) {\n        dom.appendChild(Game.items[element].icon);\n        var text = document.createElement(\"span\");\n        text.textContent = Game.items[element].data.name;\n        dom.appendChild(text);\n        button.style.visibility = \"visible\";\n      } else {\n        button.style.visibility = \"hidden\";\n      }\n    });\n  });\n\n  win.register(\"open\", function () {\n    Game.windows.status.execute(\"update\");\n    Game.windows.status.show();\n  });\n\n}());\n"]}