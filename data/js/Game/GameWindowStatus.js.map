{"version":3,"sources":["../../../src/Game/GameWindowStatus.js"],"names":[],"mappings":"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","file":"GameWindowStatus.js","sourcesContent":["/*\n\nA-RPG Game, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n(function () {\n  \"use strict\";\n\n  let win = Game.windows.status = Game.Window.create(\"statusWindow\");\n\n  win.html = `\n    <div class=\"window-box\">\n      <div id=\"statusWindowItemBar\">\n        <button id=\"statusWindowClose\" class=\"brownButton\">关闭</button>\n        <button id=\"statusWindowInventory\" class=\"brownButton\">物品</button>\n        <label id=\"heroName\"></label>\n      </div>\n      <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n        <tr>\n          <td id=\"statusWindowTable\">\n            <label id=\"heroHP\"></label>\n            <label id=\"heroSP\"></label>\n            <label id=\"heroLevel\"></label>\n            <label id=\"heroEXP\"></label>\n            <label id=\"heroSTR\"></label>\n            <label id=\"heroDEX\"></label>\n            <label id=\"heroCON\"></label>\n            <label id=\"heroINT\"></label>\n            <label id=\"heroCHA\"></label>\n            <label id=\"heroATK\"></label>\n            <label id=\"heroDEF\"></label>\n            <label id=\"heroMATK\"></label>\n            <label id=\"heroMDEF\"></label>\n          </td>\n          <td style=\"width: 50%;\">\n            <table id=\"statusWindowEquipmentTable\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n              <tbody>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">头部</td>\n                  <td id=\"equipment-head\"></td>\n                  <td style=\"width: 60px;\"><button id=\"equipmentButton-head\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">身体</td>\n                  <td id=\"equipment-body\"></td>\n                  <td><button id=\"equipmentButton-body\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">足部</td>\n                  <td id=\"equipment-feet\"></td>\n                  <td><button id=\"equipmentButton-feet\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">武器</td>\n                  <td id=\"equipment-weapon\"></td>\n                  <td><button id=\"equipmentButton-weapon\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">项链</td>\n                  <td id=\"equipment-neck\"></td>\n                  <td><button id=\"equipmentButton-neck\" class=\"brownButton\">卸下</button></td>\n                </tr>\n                <tr>\n                  <td class=\"statusWindowEquipmentText\">戒指</td>\n                  <td id=\"equipment-ring\"></td>\n                  <td><button id=\"equipmentButton-ring\" class=\"brownButton\">卸下</button></td>\n                </tr>\n              </tbody>\n            </table>\n          </td>\n        </tr>\n      </table>\n    </div>\n  `;\n\n  win.css = `\n    #heroName {\n      font-size: 24px;\n      margin-left: 240px;\n    }\n\n    #statusWindowTable {\n      width: 50%;\n    }\n\n    #statusWindowTable label {\n      font-size: 18px;\n      margin-left: 80px;\n    }\n\n    #statusWindowEquipmentTable button {\n      width: 60px;\n      height: 40px;\n    }\n\n    .statusWindowEquipmentText {\n      width: 60px;\n      font-size: 20px;\n      text-align: center;\n    }\n\n    .statusWindow label {\n      display: block;\n    }\n\n    #statusWindowItemBar button {\n      width: 60px;\n      height: 40px;\n      font-size: 16px;\n      margin-left: 5px;\n      margin-right: 5px;\n      margin-top: 0px;\n      margin-bottom: 5px;\n      text-align: center;\n    }\n\n    #statusWindowClose {\n      float: right;\n    }\n\n    #statusWindowInventory {\n      float: right;\n    }\n\n    .statusWindow table {\n      width: 100%;\n      height: 320px;\n    }\n  `;\n\n  let statusWindowEquipment = {\n    head: win.querySelector(\"#equipment-head\"),\n    body: win.querySelector(\"#equipment-body\"),\n    feet: win.querySelector(\"#equipment-feet\"),\n    weapon: win.querySelector(\"#equipment-weapon\"),\n    neck: win.querySelector(\"#equipment-neck\"),\n    ring: win.querySelector(\"#equipment-ring\")\n  };\n\n  let statusWindowEquipmentButton = {\n    head: win.querySelector(\"#equipmentButton-head\"),\n    body: win.querySelector(\"#equipmentButton-body\"),\n    feet: win.querySelector(\"#equipmentButton-feet\"),\n    weapon: win.querySelector(\"#equipmentButton-weapon\"),\n    neck: win.querySelector(\"#equipmentButton-neck\"),\n    ring: win.querySelector(\"#equipmentButton-ring\")\n  };\n\n  let lastSelect = -1;\n\n  Sprite.each(statusWindowEquipmentButton, function (button, key) {\n    button.addEventListener(\"click\", function () {\n      if (Game.hero.data.equipment[key]) {\n        Game.hero.data.equipment[key] = null;\n      } else {\n        if (key == \"weapon\") {\n          Game.windows.inventory.open(\"sword|spear|bow\");\n        } else {\n          Game.windows.inventory.open(\"head|body|feet\");\n        }\n      }\n      win.update();\n    });\n  });\n\n  let heroName = win.querySelector(\"#heroName\");\n  let heroHP = win.querySelector(\"#heroHP\")\n  let heroSP = win.querySelector(\"#heroSP\");\n  let heroLevel = win.querySelector(\"#heroLevel\");\n  let heroEXP = win.querySelector(\"#heroEXP\");\n  let heroSTR = win.querySelector(\"#heroSTR\");\n  let heroDEX = win.querySelector(\"#heroDEX\");\n  let heroCON = win.querySelector(\"#heroCON\");\n  let heroINT = win.querySelector(\"#heroINT\");\n  let heroCHA = win.querySelector(\"#heroCHA\");\n  let heroATK = win.querySelector(\"#heroATK\");\n  let heroDEF = win.querySelector(\"#heroDEF\");\n  let heroMATK = win.querySelector(\"#heroMATK\");\n  let heroMDEF = win.querySelector(\"#heroMDEF\");\n\n  let statusWindowClose = win.querySelector(\"button#statusWindowClose\");\n  let statusWindowInventory = win.querySelector(\"button#statusWindowInventory\");\n  let statusWindowEquipmentTable = win.querySelector(\"#statusWindowEquipmentTable\");\n\n  statusWindowClose.addEventListener(\"click\", function (event) {\n    win.hide();\n  });\n\n  statusWindowInventory.addEventListener(\"click\", function (event) {\n    win.hide();\n    Game.windows.inventory.open();\n  });\n\n  win.whenUp([\"tab\"], function () {\n    setTimeout(function () {\n      win.hide();\n      Game.windows.inventory.open();\n    }, 20);\n  });\n\n  win.whenUp([\"esc\"], function (key) {\n    setTimeout(function () {\n      win.hide();\n    }, 20)\n  });\n\n  win.assign(\"update\", function (select) {\n\n    if (typeof select == \"undefined\") {\n      select = -1;\n    }\n\n    lastSelect = select;\n\n    heroName.textContent = `名字：${Game.hero.data.name}`;\n    heroHP.textContent = `生命力：${Game.hero.data.hp}/${Game.hero.data.$hp}`;\n    heroSP.textContent = `精神力：${Game.hero.data.sp}/${Game.hero.data.$sp}`;\n    heroLevel.textContent = `等级：${Game.hero.data.level}`;\n    heroEXP.textContent = `经验：${Game.hero.data.exp}`;\n    heroSTR.textContent = `力量：${Game.hero.data.str}`;\n    heroDEX.textContent = `敏捷：${Game.hero.data.dex}`;\n    heroCON.textContent = `耐力：${Game.hero.data.con}`;\n    heroINT.textContent = `智力：${Game.hero.data.int}`;\n    heroCHA.textContent = `魅力：${Game.hero.data.cha}`;\n    heroATK.textContent = `攻击：${Game.hero.data.atk}`;\n    heroDEF.textContent = `防御：${Game.hero.data.def}`;\n    heroMATK.textContent = `魔法攻击：${Game.hero.data.matk}`;\n    heroMDEF.textContent = `魔法防御：${Game.hero.data.mdef}`;\n\n    let lines = statusWindowEquipmentTable.querySelectorAll(\"tr\");\n    for (let i = 0, len = lines.length; i < len; i++) {\n      if (select == i) {\n        lines[i].style.backgroundColor = \"green\";\n      } else {\n        lines[i].style.backgroundColor = \"\";\n      }\n    }\n\n    Sprite.each(Game.hero.data.equipment, function (element, key) {\n      let button = statusWindowEquipmentButton[key];\n\n      if (element) {\n        let line = \"\";\n        line += `<img alt=\"\" src=\"${Game.items[element].icon.src}\">`;\n        line += `<span>${Game.items[element].data.name}</span>`;\n        statusWindowEquipment[key].innerHTML = line;\n        button.textContent = \"卸下\";\n      } else {\n        statusWindowEquipment[key].innerHTML = \"\";\n        button.textContent = \"装备\";\n      }\n    });\n  });\n\n  win.whenUp([\"enter\"], function () {\n    let buttons = statusWindowEquipmentTable.querySelectorAll(\"button\");\n    if (lastSelect >= 0 && lastSelect < buttons.length) {\n      buttons[lastSelect].click();\n    }\n  });\n\n  win.whenUp([\"up\", \"down\"], function (key) {\n    let count = statusWindowEquipmentTable.querySelectorAll(\"button\").length;\n\n    if (lastSelect == -1) {\n      if (key == \"down\") {\n        win.open(0);\n      } else if (key == \"up\") {\n        win.open(count - 1);\n      }\n    } else {\n      if (key == \"down\") {\n        let select = lastSelect + 1;\n        if (select >= count) {\n          select = 0;\n        }\n        win.open(select);\n      } else if (key == \"up\") {\n        let select = lastSelect - 1;\n        if (select < 0) {\n          select = count - 1;\n        }\n        win.open(select);\n      }\n    }\n  });\n\n  win.assign(\"open\", function (select) {\n    win.update(select);\n    win.show();\n  });\n\n\n})();\n"]}