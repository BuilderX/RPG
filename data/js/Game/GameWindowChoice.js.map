{"version":3,"sources":["src/Game/GameWindowChoice.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAoBA,CAAC,YAAY;AACX,cAAY,CAAC;;AAEb,MAAI,UAAU,oiBAgBb,CAAC;;AAEF,MAAI,SAAS,2cAyBZ,CAAC;;AAEF,MAAI,CAAC,MAAM,GAAG,UAAU,OAAO,EAAE,QAAQ,EAAE;;AAEzC,QAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;AAC7C,OAAG,CAAC,IAAI,GAAG,UAAU,CAAC;AACtB,OAAG,CAAC,GAAG,GAAG,SAAS,CAAC;AACpB,OAAG,CAAC,IAAI,EAAE,CAAC;;AAEX,QAAI,2BAA2B,GAAG,GAAG,CAAC,aAAa,CAAC,8BAA8B,CAAC,CAAC;AACpF,QAAI,cAAc,GAAG,GAAG,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;AAC1D,QAAI,WAAW,GAAG,EAAE,CAAC;;AAErB,UAAM,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,KAAK,EAAE,GAAG,EAAE;AACzC,UAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AAC9C,YAAM,CAAC,WAAW,GAAM,WAAW,CAAC,MAAM,GAAC,CAAC,UAAK,GAAG,AAAE,CAAC;AACvD,YAAM,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;;AAEpC,iCAA2B,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAChD,iBAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAEzB,YAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;AAC3C,WAAG,CAAC,IAAI,EAAE,CAAC;AACX,WAAG,CAAC,OAAO,EAAE,CAAC;AACd,YAAI,QAAQ,EAAE;AACZ,kBAAQ,CAAC,KAAK,CAAC,CAAC;SACjB;OACF,CAAC,CAAC;KACJ,CAAC,CAAC;;AAEH,kBAAc,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;AACnD,SAAG,CAAC,IAAI,EAAE,CAAC;AACX,SAAG,CAAC,OAAO,EAAE,CAAC;AACd,UAAI,QAAQ,EAAE;AACZ,gBAAQ,CAAC,IAAI,CAAC,CAAC;OAChB;KACF,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE,YAAY;AAC9B,gBAAU,CAAC,YAAY;AACrB,sBAAc,CAAC,KAAK,EAAE,CAAC;OACxB,EAAE,EAAE,CAAC,CAAC;KACR,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,UAAU,GAAG,EAAE;;AAEvE,UAAI,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAC5B,UAAI,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;AAC/B,UAAI,OAAO,EAAE;AACX,eAAO,CAAC,KAAK,EAAE,CAAC;OACjB;KACF,CAAC,CAAC;GAEJ,CAAC;CAEH,CAAA,EAAG,CAAC","file":"src/Game/GameWindowChoice.js","sourcesContent":["/*\n\nA-RPG Game, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n(function () {\n  \"use strict\";\n\n  let choiceHTML = `\n    <div class=\"window-box\">\n      <button id=\"choiceWindowNo\" class=\"brownButton\">取消</button>\n      <div style=\"width: 100%; height: 100%;\">\n        <div style=\"height: 370px; overflow-y: auto; text-align: center;\">\n          <table id=\"choiceWindowTable\" style=\"width: 100%; height: 370px;\">\n            <tbody>\n              <tr>\n                <td id=\"choiceWindowButtonContainer\">\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  `;\n\n  let choiceCSS = `\n    .choiceWindow {\n      text-align: center;\n    }\n\n    .choiceWindow div {\n      text-align: center;\n    }\n\n    button#choiceWindowNo {\n      position: absolute;\n      right: 100px;\n      top: 50px;\n      width: 100px;\n      height: 60px;\n      font-size: 30px;\n    }\n\n    #choiceWindowTable button {\n      margin: 5px auto;\n      min-width: 300px;\n      min-height: 60px;\n      font-size: 30px;\n      display: block;\n    }\n  `;\n\n  Game.choice = function (options, callback) {\n\n    let win = Game.Window.create(\"choiceWindow\");\n    win.html = choiceHTML;\n    win.css = choiceCSS;\n    win.show();\n\n    let choiceWindowButtonContainer = win.querySelector(\"#choiceWindowButtonContainer\");\n    let choiceWindowNo = win.querySelector(\"#choiceWindowNo\");\n    let buttonArray = [];\n\n    Sprite.each(options, function (value, key) {\n      let button = document.createElement(\"button\");\n      button.textContent = `${buttonArray.length+1}. ${key}`;\n      button.classList.add(\"brownButton\");\n\n      choiceWindowButtonContainer.appendChild(button);\n      buttonArray.push(button);\n\n      button.addEventListener(\"click\", function () {\n        win.hide();\n        win.destroy();\n        if (callback) {\n          callback(value);\n        }\n      });\n    });\n\n    choiceWindowNo.addEventListener(\"click\", function () {\n      win.hide();\n      win.destroy();\n      if (callback) {\n        callback(null);\n      }\n    });\n\n    win.whenUp([\"esc\"], function () {\n      setTimeout(function () {\n        choiceWindowNo.click();\n      }, 20);\n    });\n\n    win.whenUp([\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"], function (key) {\n      // match 1 to 9\n      let num = parseInt(key) - 1; // get 0 to 8\n      let element = buttonArray[num];\n      if (element) {\n        element.click();\n      }\n    });\n\n  };\n\n})();\n"]}