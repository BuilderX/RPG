{"version":3,"sources":["src/Sprite/SpriteInput.js"],"names":[],"mappings":"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","file":"src/Sprite/SpriteInput.js","sourcesContent":["/*\n\n2D Game Sprite Library, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n/**\n * @fileoverview Class Sprite.Input\n * @author mail@qhduan.com (QH Duan)\n */\n\n(function () {\n \"use strict\";\n\n  let keyTable = {\n    \"tab\": 9,\n    \"enter\": 13,\n    \"shift\": 16,\n    \"esc\": 27,\n    \"space\": 32,\n    \"left\": 37,\n    \"up\": 38,\n    \"right\": 39,\n    \"down\": 40,\n    \"0\": 48,\n    \"1\": 49,\n    \"2\": 50,\n    \"3\": 51,\n    \"4\": 52,\n    \"5\": 53,\n    \"6\": 54,\n    \"7\": 55,\n    \"8\": 56,\n    \"9\": 57,\n    \"A\": 65, // A\n    \"B\": 66,\n    \"C\": 67,\n    \"D\": 68,\n    \"E\": 69,\n    \"F\": 70,\n    \"G\": 71,\n    \"H\": 72,\n    \"I\": 73,\n    \"J\": 74,\n    \"K\": 75,\n    \"L\": 76,\n    \"M\": 77,\n    \"N\": 78,\n    \"O\": 79,\n    \"P\": 80,\n    \"Q\": 81,\n    \"R\": 82,\n    \"S\": 83,\n    \"T\": 84,\n    \"U\": 85,\n    \"V\": 86,\n    \"W\": 87,\n    \"X\": 88,\n    \"Y\": 89,\n    \"Z\": 90, // Z\n    \"a\": 97, // a\n    \"b\": 98,\n    \"c\": 99,\n    \"d\": 100,\n    \"e\": 101,\n    \"f\": 102,\n    \"g\": 103,\n    \"h\": 104,\n    \"i\": 105,\n    \"j\": 106,\n    \"k\": 107,\n    \"l\": 108,\n    \"m\": 109,\n    \"n\": 110,\n    \"o\": 111,\n    \"p\": 112,\n    \"q\": 113,\n    \"r\": 114,\n    \"s\": 115,\n    \"t\": 116,\n    \"u\": 117,\n    \"v\": 118,\n    \"w\": 119,\n    \"x\": 120,\n    \"y\": 121,\n    \"z\": 122 // z\n  };\n\n  let pressed = new Map();\n\n  window.addEventListener(\"keydown\", function (event) {\n    event = event || window.event;\n    let keyCode = event.keyCode;\n    pressed.set(keyCode, true);\n  });\n\n  window.addEventListener(\"keyup\", function (event) {\n    event = event || window.event;\n    let keyCode = event.keyCode;\n    if (pressed.has(keyCode)) {\n      pressed.delete(keyCode);\n    }\n  });\n\n  /**\n   * Sprite.Input, only has static methods\n   * @class\n   */\n  Sprite.assign(\"Input\", class SpriteInput {\n\n    /**\n     * @param {string} key Key-string ('A', 'a') or key-number (65, 97)\n     * @return {boolean} If the key is pressing, return true, otherwise, false\n     */\n    static isPressed (key) {\n      if (Number.isFinite(key)) {\n        if (pressed.has(key)) {\n          return true;\n        }\n        return false;\n      } else if (typeof key == \"string\") {\n        key = keyTable[key];\n        if (pressed.has(key)) {\n          return true;\n        }\n        return false;\n      } else {\n        console.error(key);\n        throw new Error(\"Sprite.Input.isPressed got invalid argument\");\n      }\n    }\n\n    /**\n     * @param {Array} keys Keys to monitor, eg. [\"A\", \"B\", \"C\", \"a\", \"b\", \"c\"]\n     * @param {function} callback When key in keys is pressed, callback\n     */\n    static whenPress (keys, callback) {\n      if (callback) {\n        window.addEventListener(\"keypress\", function (event) {\n          event = event || window.event;\n          let keyCode = event.keyCode;\n          for (let key of keys) {\n            let code = keyTable[key];\n            if (code && code == keyCode) {\n              callback(key);\n            }\n          }\n        });\n      } else {\n        console.error(callback);\n        throw new Error(\"Sprite.Input.whenPress got invalid arguments\");\n      }\n    }\n\n    /**\n     * @param {Array} keys Keys to monitor, eg. [\"A\", \"B\", \"C\", \"a\", \"b\", \"c\"]\n     * @param {function} callback When key in keys is pressed, callback\n     */\n    static whenDown (keys, callback) {\n      if (callback) {\n        window.addEventListener(\"keydown\", function (event) {\n          event = event || window.event;\n          let keyCode = event.keyCode;\n          for (let key of keys) {\n            let code = keyTable[key];\n            if (code && code == keyCode) {\n              callback(key);\n            }\n          }\n        });\n      } else {\n        console.error(callback);\n        throw new Error(\"Sprite.Input.whenDown got invalid arguments\");\n      }\n    }\n\n    /**\n     * @param {Array} keys Keys to monitor, eg. [\"A\", \"B\", \"C\", \"a\", \"b\", \"c\"]\n     * @param {function} callback When key in keys is pressed, callback\n     */\n    static whenUp (keys, callback) {\n      if (callback) {\n        window.addEventListener(\"keyup\", function (event) {\n          event = event || window.event;\n          let keyCode = event.keyCode;\n          for (let key of keys) {\n            let code = keyTable[key];\n            if (code && code == keyCode) {\n              callback(key);\n            }\n          }\n        });\n      } else {\n        console.error(callback);\n        throw new Error(\"Sprite.Input.whenUp got invalid arguments\");\n      }\n    }\n  });\n\n\n})();\n"]}