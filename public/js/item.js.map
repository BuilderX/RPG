{"version":3,"sources":["public/src/item.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA,CAAC,YAAY;AACX,cAAY,CAAC;;AAEb,MAAI,CAAC,SAAS;cAAS,SAAS;;AAClB,aADS,SAAS,CACjB,QAAQ,EAAE;4BADF,SAAS;;AAE5B,iCAFmB,SAAS,6CAEpB;;AAER,UAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;AACrB,UAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;;AAEvB,UAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AACpC,eAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACtC,cAAM,IAAI,SAAS,CAAC,oBAAoB,CAAC,CAAC;OAC3C;;AAED,UAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC5C,UAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACvC,UAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;AACvC,UAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;AACxC,UAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC;AAC3B,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;;;AAG3B,UAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;KAC7B;;iBArBoB,SAAS;;aAuBxB,eAAC,QAAQ,EAAE;AACf,YAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,YAAI,OAAO,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACvC,eAAO,CAAC,EAAE,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;OAClC;;;aAEI,cAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE;AACjB,YAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,YAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;AAClB,YAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;;AAElB,aAAK,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC/B,YAAI,CAAC,MAAM,EAAE,CAAC;OACf;;;WAtCoB,SAAS;KAAS,MAAM,CAAC,KAAK,CAwCpD,CAAC;CAEH,CAAA,EAAG,CAAC","file":"public/src/item.js","sourcesContent":["/*\n\nA-RPG Game, Built using Node.js + JavaScript + ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n(function () {\n  \"use strict\";\n\n  Game.ItemClass = class ItemClass extends Sprite.Event {\n    constructor (itemData) {\n      super();\n\n      this.data = itemData;\n      this.id = this.data.id;\n\n      if (!Game.resources[this.data.image]) {\n        console.log(this.id, this.data.image);\n        throw new TypeError(\"Invalid Item Image\");\n      }\n\n      var image = Game.resources[this.data.image];\n      this.bitmap = new Sprite.Bitmap(image);\n      this.bitmap.center.x = image.width / 2;\n      this.bitmap.center.y = image.height / 2;\n      this.bitmap.name = this.id;\n      Game.items[this.id] = this;\n\n      // 发送完成事件，第二个参数代表一次性事件\n      this.emit(\"complete\", true);\n    }\n\n    clone (callback) {\n      var self = this;\n\n      var itemObj = new ItemClass(this.data);\n      itemObj.on(\"complete\", callback);\n    }\n\n    draw (layer, x, y) {\n      var self = this;\n\n      this.bitmap.x = x;\n      this.bitmap.y = y;\n\n      layer.appendChild(this.bitmap);\n      Game.update();\n    }\n\n  };\n\n})();\n"]}